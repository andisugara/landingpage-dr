<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promo - Klinik Dokter Gigi Intan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #ffffff; }
        .text-primary { color: #c81c80; }
        .bg-primary { background-color: #c81c80; }
        .bg-secondary { background-color: #e280b3; }
        .hover-primary:hover { color: #c81c80; }
        .dropdown:hover .dropdown-menu { display: block; }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="text-gray-800">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-white/95 backdrop-blur-sm shadow-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <a href="index.html" class="flex items-center space-x-2">
                   <img src="./images/logo.png" alt="Logo" class="h-12">
                </a>
                
                <div class="hidden md:flex space-x-8 items-center font-medium">
                    <a href="index.html" class="hover-primary transition">Beranda</a>
                    <div class="relative dropdown">
                        <button class="hover-primary transition flex items-center">
                            Layanan <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="dropdown-menu absolute hidden bg-white shadow-xl rounded-xl py-4 w-56 mt-0 border border-gray-50">
                            <a href="layanan.html" class="block px-6 py-2 hover:bg-gray-50 hover:text-primary">Semua Layanan</a>
                            <hr class="my-2 border-gray-100">
                            <a href="layanan/behel.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Behel Gigi</a>
                            <a href="layanan/scaling.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Scaling Gigi</a>
                            <a href="layanan/tambal.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Tambal Gigi</a>
                            <a href="layanan/veneer.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Veneer Gigi</a>
                            <a href="layanan/cabut.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Cabut Gigi</a>
                            <a href="layanan/gigi-palsu.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Gigi Palsu</a>
                            <a href="layanan/implan.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Implan Gigi</a>
                            <a href="layanan/psa.html" class="block px-6 py-2 hover:bg-gray-50 text-sm">Perawatan Saluran Akar</a>
                        </div>
                    </div>
                    <a href="promo.html" class="hover-primary transition">Promo</a>
                    <a href="https://wa.me/6282228986161" target="_blank" class="bg-primary text-white px-6 py-2.5 rounded-full hover:opacity-90 transition shadow-md">Reservasi</a>
                </div>

                <div class="md:hidden flex items-center">
                    <button class="text-gray-600 focus:outline-none" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t px-4 py-4 space-y-4 shadow-xl">
            <a href="index.html" onclick="toggleMobileMenu()" class="block font-medium py-2">Beranda</a>
            <a href="layanan.html" onclick="toggleMobileMenu()" class="block font-medium py-2">Layanan</a>
            <a href="promo.html" onclick="toggleMobileMenu()" class="block font-medium py-2">Promo</a>
            <a href="https://wa.me/6282228986161" class="block bg-primary text-white text-center py-3 rounded-xl font-bold">Reservasi</a>
        </div>
    </nav>

    <main class="fade-in pt-24">
        <!-- Promo Section -->
        <section class="pt-12 pb-24 bg-white min-h-screen">
            <div class="max-w-7xl mx-auto px-6 text-center">
                <h1 class="text-4xl font-bold mb-4 text-primary">Katalog Promo Pasien</h1>
                <p class="text-gray-500 mb-16">Berlaku khusus untuk pendaftaran melalui WhatsApp.</p>
                
                <div id="promoContainer" class="grid md:grid-cols-3 gap-8 text-left">
                    <!-- Promo cards dimuat dari JSON -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-24 pb-12">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid md:grid-cols-2 gap-16 mb-16">
                <div>
                    <h2 class="text-3xl font-bold mb-6 text-primary">Lokasi Klinik</h2>
                    <p class="text-gray-400 mb-6 max-w-md">
                        Komplek Pemda, Jl. Sangkuriang Mukti No.102 Blok Y, Padasuka, Kec. Cimahi Tengah, Kota Cimahi, Jawa Barat 40526
                    </p>
                    <div class="space-y-4">
                        <p class="flex items-center"><i class="fas fa-phone-alt mr-3 text-primary"></i> 0812-3456-7890</p>
                        <p class="flex items-center"><i class="fas fa-clock mr-3 text-primary"></i> 10.00 - 20.00 (Senin - Sabtu)</p>
                    </div>
                    <a href="https://maps.app.goo.gl/examplelink" target="_blank" class="inline-flex items-center bg-white text-gray-900 px-8 py-3 rounded-full font-bold mt-8 hover:bg-primary hover:text-white transition">
                        Petunjuk Jalan (Maps) <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
                <div class="rounded-[2rem] overflow-hidden border-4 border-gray-800 h-80 shadow-2xl">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3961.1!2d107.54!3d-6.87!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNsKwNTInMTIuMCJTIDEwN8KwMzInMjQuMCJF!5e0!3m2!1sen!2sid!4v1700000000000" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
            <div class="text-center pt-12 border-t border-gray-800 text-gray-500 text-sm italic">
                &copy; 2024 Klinik Dokter Gigi Intan Cimahi. Kesehatan Anda, Prioritas Kami.
            </div>
        </div>
    </footer>

    <script>
        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        // Data default promo (embedded)
        const defaultPromoData = [
            {
                "id": 1,
                "title": "New Year Scaling",
                "description": "Pembersihan karang gigi lengkap + Polishing + Cek Intraoral.",
                "image": "https://images.unsplash.com/photo-1606811971618-4486d14f3f99?auto=format&fit=crop&w=900&q=80",
                "badge": "-20%",
                "badgeColor": "bg-primary",
                "originalPrice": "Rp 450.000",
                "finalPrice": "Rp 199.000",
                "waMessage": "Halo%20Dokter%20Gigi%20Intan,%20saya%20mau%20ambil%20Promo%20Scaling",
                "waButtonText": "Klaim Promo via WA"
            },
            {
                "id": 2,
                "title": "Konsultasi Behel",
                "description": "Gratis Konsultasi Detail & Rencana Perawatan Behel untuk 10 pendaftar pertama.",
                "image": "https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?auto=format&fit=crop&w=900&q=80",
                "badge": "FREE",
                "badgeColor": "bg-secondary",
                "originalPrice": "Rp 100.000",
                "finalPrice": "Gratis!",
                "waMessage": "Halo%20Dokter%20Gigi%20Intan,%20saya%20mau%20Konsultasi%20Behel%20Gratis",
                "waButtonText": "Ambil Sekarang via WA"
            },
            {
                "id": 3,
                "title": "Veneer Estetik",
                "description": "Paket 4-6 Gigi Veneer Composite dengan harga spesial per gigi.",
                "image": "https://images.unsplash.com/photo-1559839734-2b71f1e3c770?auto=format&fit=crop&w=900&q=80",
                "badge": "BEST",
                "badgeColor": "bg-primary",
                "originalPrice": "",
                "finalPrice": "Tanya Harga",
                "waMessage": "Halo%20Dokter%20Gigi%20Intan,%20saya%20mau%20Tanya%20Promo%20Veneer",
                "waButtonText": "Hubungi Admin via WA"
            }
        ];

        // Load promo data dari localStorage atau gunakan default
        async function loadPromoData() {
            try {
                // Cek localStorage dulu (jika ada perubahan dari admin)
                const savedData = localStorage.getItem('promoData');
                let promoData;

                if (savedData) {
                    promoData = JSON.parse(savedData).promos;
                } else {
                    // Gunakan data default yang sudah embedded
                    promoData = defaultPromoData;
                }

                renderPromos(promoData);
            } catch (error) {
                console.error('Error loading promo data:', error);
                // Jika error, tetap gunakan data default
                renderPromos(defaultPromoData);
            }
        }

        // Render promo cards
        function renderPromos(promos) {
            const container = document.getElementById('promoContainer');
            container.innerHTML = '';

            // Jika tidak ada promo
            if (!promos || promos.length === 0) {
                container.innerHTML = `
                    <div class="md:col-span-3">
                        <div class="bg-yellow-50 border-2 border-yellow-200 rounded-2xl p-12 text-center">
                            <div class="text-6xl mb-4">
                                <i class="fas fa-calendar-alt text-yellow-500"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 mb-2">Belum Ada Promo</h3>
                            <p class="text-gray-600 mb-6">Saat ini belum ada promo tersedia. Silakan kembali lagi nanti atau hubungi kami melalui WhatsApp untuk penawaran terbaru.</p>
                            <a href="https://wa.me/6282228986161" class="inline-flex items-center bg-primary text-white px-8 py-3 rounded-full font-bold hover:opacity-90 transition">
                                <i class="fas fa-whatsapp mr-2"></i>
                                Chat via WhatsApp
                            </a>
                        </div>
                    </div>
                `;
                return;
            }

            promos.forEach((promo) => {
                const originalPriceHTML = promo.originalPrice 
                    ? `<div class="text-gray-400 line-through text-sm">${promo.originalPrice}</div>` 
                    : '';

                const card = document.createElement('div');
                card.className = 'bg-gray-50 rounded-[2.5rem] overflow-hidden border border-gray-100 relative group';
                card.innerHTML = `
                    <img src="${promo.image}" alt="${promo.title}" class="h-44 w-full object-cover">
                    <div class="p-8">
                        <div class="absolute -right-8 -top-8 w-24 h-24 ${promo.badgeColor} rounded-full flex items-center justify-center pt-8 pr-8 text-white font-bold rotate-12 group-hover:scale-110 transition">${promo.badge}</div>
                        <h3 class="text-2xl font-bold mb-4">${promo.title}</h3>
                        <p class="text-gray-500 mb-10">${promo.description}</p>
                        <div class="mt-auto">
                            ${originalPriceHTML}
                            <div class="text-3xl font-bold text-primary mb-6">${promo.finalPrice}</div>
                            <a href="https://wa.me/6282228986161?text=${promo.waMessage}" class="block text-center bg-gray-900 text-white py-4 rounded-2xl font-bold hover:bg-primary transition shadow-md">${promo.waButtonText}</a>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Load data saat halaman dimuat
        window.addEventListener('load', loadPromoData);
    </script>
</body>
</html>
